# WhatsApp Sales Automation Bot

This application helps sales professionals automate the creation of WhatsApp groups and manage basic communication with contacts.

---

## ⚠️ IMPORTANT: WhatsApp's Terms of Service

Using automated systems on WhatsApp's platform is against their [Terms of Service](https://www.whatsapp.com/legal/terms-of-service). While this script includes features to minimize the risk of being banned (like human-like delays and one-time group creation), the risk can never be fully eliminated.

**To use this tool safely, you MUST follow these rules:**

1.  **GET CONSENT**: You must have explicit permission from every single contact before you add them to a group. Adding people without their consent is the fastest way to get your account banned.
2.  **DO NOT SPAM**: Do not use this tool for bulk messaging or spam. It is intended for creating small, specific groups for known contacts.
3.  **USE AT YOUR OWN RISK**: The creators of this tool are not responsible for any account bans or other consequences of its use.

---

## How to Use

1.  **Install Node.js**: If you don't have it, download and install the LTS version of [Node.js](https://nodejs.org/).
2.  **Install Dependencies**: Open a terminal or command prompt in the project folder and run the command: `npm install`
3.  **Configure Contacts**: Open the `contacts.json` file and add the contacts you want to include in the group. Make sure you have their permission!
    ```json
    [
        { "name": "First Contact", "role": "Sales", "phone": "91..." },
        { "name": "Second Contact", "role": "Sales", "phone": "91..." }
    ]
    ```
4.  **Configure the Bot**: Open `config.js` to set the group name and other options.
5.  **Run the Bot**: In your terminal, run the command: `node index.js`
6.  **Scan the QR Code**: The first time you run the bot, a QR code will appear in the terminal. Open WhatsApp on your phone, go to `Settings > Linked Devices > Link a Device`, and scan the code.

## How it Works

-   **Automatic Group Creation**: On the first run, the bot will automatically create the group defined in `config.js` with the contacts from `contacts.json`.
-   **State Management**: The bot creates a `state.json` file to remember that the group has been created. It will **not** try to create the group again on future runs.
-   **Opt-Out**: If a user replies with the word `STOP`, they will be permanently added to an opt-out list (stored in `state.json`) and will not receive further automated messages.

## Debugging on Railway.com

To effectively debug your application when deployed on Railway.com, you can rely on the existing logging mechanism. The `logger.js` utility uses standard `console.log`, `console.warn`, and `console.error` functions. Railway.com automatically captures these outputs and displays them in your service's logs.

Here's how to access and utilize the debugging information:

*   **Accessing Logs**: After deploying your application on Railway.com, navigate to your project dashboard, select your service, and then go to the "Logs" tab. You will see all the `INFO`, `WARN`, and `ERROR` messages generated by your application.
*   **Monitoring Client Status**: Pay close attention to log messages prefixed with `[DEBUG]` and `[INFO]` from `server.js`. These messages provide detailed insights into the WhatsApp client's initialization, QR code generation, authentication status, and disconnections. For example:
    *   `[DEBUG] QR code generated for [clientId]. Sending to client.` indicates a new QR code is available.
    *   `[DEBUG] WhatsApp Client for [clientId] is ready!` confirms a successful connection.
    *   `[DEBUG] Client for [clientId] was disconnected: [reason]` will show if the client disconnected and the reason why.
    *   `[DEBUG] Authentication failure for [clientId]: [message]` will indicate issues with authentication.
*   **Error Tracing**: Any errors encountered during client initialization or other processes will be logged with `[ERROR]` and will include stack traces if available, helping you pinpoint the source of issues.
*   **Environment Variables**: Ensure that your `SESSION_SECRET` environment variable is set on Railway.com for session management. You can set this in your service's "Variables" tab on Railway.com.

By monitoring these logs, you can effectively track the state of your WhatsApp client, diagnose connection issues, and verify the persistence of your sessions.
